<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advanced-usage/fail2ban-gamevault-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Configuring Fail2Ban for GameVault | GameVault</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://gamevau.lt/docs/advanced-usage/fail2ban-gamevault-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuring Fail2Ban for GameVault | GameVault"><meta data-rh="true" name="description" content="This guide was created and tested by a community member. It hasn&#x27;t been personally tested by our team. We cannot guarantee its effectiveness as we don&#x27;t use fail2ban. Feel free to give it a try. If you find any errors, you can edit the guide accordingly."><meta data-rh="true" property="og:description" content="This guide was created and tested by a community member. It hasn&#x27;t been personally tested by our team. We cannot guarantee its effectiveness as we don&#x27;t use fail2ban. Feel free to give it a try. If you find any errors, you can edit the guide accordingly."><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://gamevau.lt/docs/advanced-usage/fail2ban-gamevault-guide"><link data-rh="true" rel="alternate" href="https://gamevau.lt/docs/advanced-usage/fail2ban-gamevault-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://gamevau.lt/docs/advanced-usage/fail2ban-gamevault-guide" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GameVault RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GameVault Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ab69c1d2.css">
<script src="/assets/js/runtime~main.1176c44e.js" defer="defer"></script>
<script src="/assets/js/main.a76c3848.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_g2Xq" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="GameVault" class="themedComponent_rRVo themedComponent--light_xUdq"><img src="/img/logo.png" alt="GameVault" class="themedComponent_rRVo themedComponent--dark_qJGI"></div><b class="navbar__title text--truncate">GameVault</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/gamevault-plus/introduction">GameVault+</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/phalcode" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/NEdNen2dSu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://gamevau.lt/docs/intro#support" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ZOT6 colorModeToggle_iB63"><button class="clean-btn toggleButton_fJBl toggleButtonDisabled_noWf" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_beq1"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_pm1c"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_wCkx"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ZOQ7"><div class="docsWrapper_aXVu"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_BLRy" type="button"></button><div class="docRoot_CLw5"><aside class="theme-doc-sidebar-container docSidebarContainer_aNVZ"><div class="sidebarViewport_MVI_"><div class="sidebar_gK18"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_loXb"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/server-docs/setup/">Server Documentation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/client-docs/setup">Client Documentation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/advanced-usage/rest-api">Advanced Usage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-usage/rest-api">REST API Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-usage/early-access-program">GameVault Early Access Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/advanced-usage/fail2ban-gamevault-guide">Configuring Fail2Ban for GameVault</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-usage/linux-client">Running the Client on Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-usage/steamdeck">Running the Client on Steamdeck</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/gamevault-plus/introduction">GameVault+</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/license-contribute">Licensing and Contributions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li></ul></nav></div></div></aside><main class="docMainContainer_CmXg"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Ncs1"><div class="docItemContainer_Ic0o"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_VKlA" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_u6Xi"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced Usage</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Fail2Ban for GameVault</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_etZS theme-doc-toc-mobile tocMobile_qNuQ"><button type="button" class="clean-btn tocCollapsibleButton_WOfX">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring Fail2Ban for GameVault</h1></header><div class="theme-admonition theme-admonition-note admonition_QJn1 alert alert--secondary"><div class="admonitionHeading_XqHm"><span class="admonitionIcon_K_KP"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Community-Created Guide</div><div class="admonitionContent_P4lj"><p>This guide was created and tested by a community member. It hasn&#x27;t been personally tested by our team. We cannot guarantee its effectiveness as we don&#x27;t use fail2ban. Feel free to give it a try. If you find any errors, you can edit the guide accordingly.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_yXGG" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>This guide explains how to set up Fail2Ban to safeguard your GameVault application against unauthorized access attempts. Fail2Ban is a tool that scans log files and blocks IP addresses exhibiting malicious behavior through the firewall.</p>
<h2 class="anchor anchorWithStickyNavbar_yXGG" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Fail2Ban installed on your host system</li>
<li>Running GameVault instance as outlined in the <a href="/docs/server-docs/setup/">server setup documentation</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_yXGG" id="steps">Steps<a href="#steps" class="hash-link" aria-label="Direct link to Steps" title="Direct link to Steps">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_yXGG" id="1-enable-log-files-and-map-a-volume">1. Enable Log Files and Map a Volume<a href="#1-enable-log-files-and-map-a-volume" class="hash-link" aria-label="Direct link to 1. Enable Log Files and Map a Volume" title="Direct link to 1. Enable Log Files and Map a Volume">​</a></h3>
<p>Ensure that log files are enabled and a volume is mapped to the <code>/logs</code> folder within the GameVault backend container in your <code>docker-compose.yml</code> file:</p>
<div class="language-yaml codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-yaml codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">gamevault-backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phalcode/gamevault</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">SERVER_LOG_FILES_ENABLED</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># &lt;--- Make sure this is not set to false. (Default was false before v11.0.1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /your/logs/folder</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/logs </span><span class="token comment" style="color:#999988;font-style:italic"># &lt;--- Replace `/your/logs/folder` with the actual path to your log folder.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_yXGG" id="2-identify-failed-authentication-attempts">2. Identify Failed Authentication Attempts<a href="#2-identify-failed-authentication-attempts" class="hash-link" aria-label="Direct link to 2. Identify Failed Authentication Attempts" title="Direct link to 2. Identify Failed Authentication Attempts">​</a></h3>
<p>Failed authentication attempts will appear in the log files in the following format:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token plain">info:    ┏ </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">17</span><span class="token plain">/Aug/2023:20:25:47 +0000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Username @ Address - GET /api/v1/users/me -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">401</span><span class="token plain"> - </span><span class="token number" style="color:#36acaa">28.231</span><span class="token plain"> ms - </span><span class="token number" style="color:#36acaa">112</span><span class="token plain"> - </span><span class="token string" style="color:#e3116c">&#x27;GameVault/1.3.0&#x27;</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_yXGG" id="3-create-a-fail2ban-filter">3. Create a Fail2Ban Filter<a href="#3-create-a-fail2ban-filter" class="hash-link" aria-label="Direct link to 3. Create a Fail2Ban Filter" title="Direct link to 3. Create a Fail2Ban Filter">​</a></h3>
<p>Create a filter file for Fail2Ban by opening a terminal and executing the command:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">nano</span><span class="token plain"> /etc/fail2ban/filter.d/gamevault-filter.conf</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Insert the following content into the file:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Definition</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">failregex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> .*</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">HOST</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> - GET.*401</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that this regular expression may require adjustments. You can test it using the command:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token plain">fail2ban-regex /your/logs/folder/gamevault-backend.log /etc/fail2ban/filter.d/gamevault-filter.conf</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_yXGG" id="4-configure-fail2ban-jail">4. Configure Fail2Ban Jail<a href="#4-configure-fail2ban-jail" class="hash-link" aria-label="Direct link to 4. Configure Fail2Ban Jail" title="Direct link to 4. Configure Fail2Ban Jail">​</a></h3>
<p>Modify the Fail2Ban jail configuration by executing the command:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">nano</span><span class="token plain"> /etc/fail2ban/jail.local</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Add the following block and customize the settings based on your preferences:</p>
<div class="language-conf codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-conf codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token plain">[gamevault]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filter = gamevault-filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logpath = /your/logs/folder/*.log*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maxretry = 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">findtime = 3600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bantime = 3600</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_yXGG" id="5-restart-fail2ban">5. Restart Fail2Ban<a href="#5-restart-fail2ban" class="hash-link" aria-label="Direct link to 5. Restart Fail2Ban" title="Direct link to 5. Restart Fail2Ban">​</a></h3>
<p>To apply the changes, restart the Fail2Ban service:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart fail2ban</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_yXGG" id="6-verify-jail-status">6. Verify Jail Status<a href="#6-verify-jail-status" class="hash-link" aria-label="Direct link to 6. Verify Jail Status" title="Direct link to 6. Verify Jail Status">​</a></h3>
<p>Check the status of the GameVault jail:</p>
<div class="language-bash codeBlockContainer_Cxby theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_V9de"><pre tabindex="0" class="prism-code language-bash codeBlock_mHP1 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hIP1"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> fail2ban-client status gamevault</span><br></span></code></pre><div class="buttonGroup_XEi1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_muKP" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_AJMI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rKCA"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_yXGG" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>By following these steps, you can enhance the security of your GameVault application by utilizing Fail2Ban to block IP addresses attempting unauthorized access. Remember to fine-tune the settings to suit your specific requirements. Keep in mind that the 401 response will be triggered for each unauthenticated request, which can occur frequently and become bothersome, so you may want to increase the <code>maxretry</code> value slightly.</p>
<p>Credit goes to <a href="https://stackoverflow.com/a/69575369/14570696" target="_blank" rel="noopener noreferrer">this StackOverflow answer</a> and <a href="https://github.com/Phalcode/gamevault-backend/issues/175" target="_blank" rel="noopener noreferrer">this Github issue</a> for inspiring this guide.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/phalcode/gamevault-docs/tree/master/docs/advanced-usage/failt2ban.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_pwSm" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_SRlX"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/advanced-usage/early-access-program"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GameVault Early Access Program</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/advanced-usage/linux-client"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Running the Client on Linux</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_yuCq thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#steps" class="table-of-contents__link toc-highlight">Steps</a><ul><li><a href="#1-enable-log-files-and-map-a-volume" class="table-of-contents__link toc-highlight">1. Enable Log Files and Map a Volume</a></li><li><a href="#2-identify-failed-authentication-attempts" class="table-of-contents__link toc-highlight">2. Identify Failed Authentication Attempts</a></li><li><a href="#3-create-a-fail2ban-filter" class="table-of-contents__link toc-highlight">3. Create a Fail2Ban Filter</a></li><li><a href="#4-configure-fail2ban-jail" class="table-of-contents__link toc-highlight">4. Configure Fail2Ban Jail</a></li><li><a href="#5-restart-fail2ban" class="table-of-contents__link toc-highlight">5. Restart Fail2Ban</a></li><li><a href="#6-verify-jail-status" class="table-of-contents__link toc-highlight">6. Verify Jail Status</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Shortcuts</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/server-docs/setup">Server Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/troubleshooting">Troubleshooting</a></li></ul></div><div class="col footer__col"><div class="footer__title">Development</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/orgs/Phalcode/projects/4" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/Phalcode/repositories?q=gamevault" target="_blank" rel="noopener noreferrer" class="footer__link-item">Repositories<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Socials</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://reddit.com/r/Phalcode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lemmy.world/c/phalcode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lemmy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/NEdNen2dSu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Support us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sponsors/Phalcode" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Sponsors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ko-fi.com/phalcode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ko-Fi<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://liberapay.com/phalcode" target="_blank" rel="noopener noreferrer" class="footer__link-item">Liberapay<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.paypal.me/phalcode" target="_blank" rel="noopener noreferrer" class="footer__link-item">PayPal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legals</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/license-contribute">License</a></li><li class="footer__item"><a href="https://phalco.de/legal" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Notice<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://phalco.de/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://phalco.de/tos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_DLy0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://phalco.de" rel="noopener noreferrer" class="footerLogoLink_IzGm"><img src="/img/phalcode_bright.png" class="footer__logo themedComponent_rRVo themedComponent--light_xUdq" height="30vh"><img src="/img/phalcode_dark.png" class="footer__logo themedComponent_rRVo themedComponent--dark_qJGI" height="30vh"></a></div><div class="footer__copyright">Copyright © 2024 <a href="https://phalco.de">Phalcode</a> - All Rights Reserved</div></div></div></footer></div>
</body>
</html>
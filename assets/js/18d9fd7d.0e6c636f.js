"use strict";(self.webpackChunkgamevault_docs=self.webpackChunkgamevault_docs||[]).push([[3158],{4873:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"server-docs/plugins","title":"Plugins","description":"Plugins are currently in the early stages of development. Things may break, so always make backups before using them.","source":"@site/docs/server-docs/plugins.md","sourceDirName":"server-docs","slug":"/server-docs/plugins","permalink":"/docs/server-docs/plugins","draft":false,"unlisted":false,"editUrl":"https://github.com/phalcode/gamevault-docs/tree/master/docs/server-docs/plugins.md","tags":[],"version":"current","lastUpdatedBy":"Alper Alkan","lastUpdatedAt":1743146004000,"sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"docs","previous":{"title":"WebSockets","permalink":"/docs/server-docs/websockets"},"next":{"title":"Parental Control","permalink":"/docs/server-docs/parental-control"}}');var l=t(6070),s=t(8591);const o={sidebar_position:9},r="Plugins",a={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Where to Find Plugins",id:"where-to-find-plugins",level:2},{value:"How to Install Plugins",id:"how-to-install-plugins",level:2},{value:"How to Develop GameVault Plugins",id:"how-to-develop-gamevault-plugins",level:2},{value:"Step 1: Clone the Backend Repository",id:"step-1-clone-the-backend-repository",level:3},{value:"Step 2: Understand the Architecture",id:"step-2-understand-the-architecture",level:3},{value:"Step 3: Set Up a Plugin",id:"step-3-set-up-a-plugin",level:3},{value:"Step 4: Document Your Plugin",id:"step-4-document-your-plugin",level:3},{value:"Step 5: Implement Your Plugin&#39;s Logic",id:"step-5-implement-your-plugins-logic",level:3},{value:"Adding Configuration Options",id:"adding-configuration-options",level:4},{value:"Step 6: Test Your Plugin",id:"step-6-test-your-plugin",level:3},{value:"Step 7: Compile Your Plugin",id:"step-7-compile-your-plugin",level:3},{value:"Step 8: Release Your Plugin",id:"step-8-release-your-plugin",level:3},{value:"Step 9: Get Featured",id:"step-9-get-featured",level:3},{value:"Metadata Provider Plugin Specifics",id:"metadata-provider-plugin-specifics",level:2},{value:"Example Plugins",id:"example-plugins",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"plugins",children:"Plugins"})}),"\n",(0,l.jsx)(n.admonition,{title:"Plugins are experimental",type:"danger",children:(0,l.jsx)(n.p,{children:"Plugins are currently in the early stages of development. Things may break, so always make backups before using them."})}),"\n",(0,l.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,l.jsx)(n.p,{children:"GameVault is built with modularity in mind, featuring a plugin system that allows users to integrate custom functionality directly into the server. Whether you're looking to extend GameVault or customize its behavior, plugins provide the flexibility you need."}),"\n",(0,l.jsx)(n.h2,{id:"where-to-find-plugins",children:"Where to Find Plugins"}),"\n",(0,l.jsxs)(n.p,{children:["You can browse a list of available GameVault plugins ",(0,l.jsx)(n.a,{href:"https://github.com/topics/gamevault-backend-plugin",children:"here"}),". Be sure to check that the plugin is compatible with your specific version of the GameVault backend."]}),"\n",(0,l.jsx)(n.h2,{id:"how-to-install-plugins",children:"How to Install Plugins"}),"\n",(0,l.jsx)(n.p,{children:"To install a plugin, follow these steps:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Place the folder containing your compiled plugin (",(0,l.jsx)(n.code,{children:".js"})," files) into the ",(0,l.jsx)(n.code,{children:"/plugins"})," directory of your GameVault server. Archives are currently not supported, so extract them first."]}),"\n",(0,l.jsx)(n.li,{children:"When you start the server, GameVault will automatically detect and load the plugin."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"how-to-develop-gamevault-plugins",children:"How to Develop GameVault Plugins"}),"\n",(0,l.jsx)(n.p,{children:"If you're a developer interested in creating plugins, you're in luck\u2014it's simple to get started. Here\u2019s a step-by-step guide:"}),"\n",(0,l.jsx)(n.h3,{id:"step-1-clone-the-backend-repository",children:"Step 1: Clone the Backend Repository"}),"\n",(0,l.jsxs)(n.p,{children:["First, set up a local instance of the GameVault backend. Follow the setup instructions available ",(0,l.jsx)(n.a,{href:"https://github.com/Phalcode/gamevault-backend/blob/master/INSTALL.md",children:"here"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"step-2-understand-the-architecture",children:"Step 2: Understand the Architecture"}),"\n",(0,l.jsxs)(n.p,{children:["GameVault plugins are built as NestJS modules, just like the rest of the system. You\u2019ll be working with ",(0,l.jsx)(n.a,{href:"https://docs.nestjs.com",children:"NestJS"})," components such as ",(0,l.jsx)(n.a,{href:"https://docs.nestjs.com/modules",children:"Modules"}),", ",(0,l.jsx)(n.a,{href:"https://docs.nestjs.com/providers",children:"Services"}),", and ",(0,l.jsx)(n.a,{href:"https://docs.nestjs.com/controllers",children:"Controllers"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["To start, it's a good idea to read the official NestJS documentation, but if you prefer to jump in and learn by doing, you can reference the ",(0,l.jsx)(n.a,{href:"#example-plugins",children:"example code below"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"step-3-set-up-a-plugin",children:"Step 3: Set Up a Plugin"}),"\n",(0,l.jsxs)(n.p,{children:["Suppose we\u2019re creating a plugin called ",(0,l.jsx)(n.code,{children:"useless-plugin"}),"."]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Navigate to the ",(0,l.jsx)(n.code,{children:"gamevault-backend"})," directory in your cloned repository."]}),"\n",(0,l.jsxs)(n.li,{children:["Create a folder for your plugin: ",(0,l.jsx)(n.code,{children:"gamevault-backend/.local/plugins/useless-plugin/"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Inside the plugin folder, initialize a git repository with ",(0,l.jsx)(n.code,{children:"git init"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Create a new file for your module: ",(0,l.jsx)(n.code,{children:"useless.plugin.module.ts"}),". This file will serve as the entry point for your plugin and should implement the ",(0,l.jsx)(n.code,{children:"GameVaultPluginModule"})," interface (which can be imported from ",(0,l.jsx)(n.code,{children:"src/globals.ts"}),")."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Here\u2019s a basic example of how your module might look:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:'import { Module } from "@nestjs/common";\nimport {\n  GameVaultPluginModule,\n  GameVaultPluginModuleMetadataV1,\n} from "../../../src/globals";\n\n@Module({\n  imports: [],\n  controllers: [],\n  providers: [],\n})\nexport default class UselessPluginModule implements GameVaultPluginModule {\n  metadata: GameVaultPluginModuleMetadataV1 = {\n    name: "Useless Plugin",\n    author: "Phalcode",\n    version: "1.0.0",\n    description:\n      "An example plugin that does nothing useful. It logs the user count every three seconds and provides two REST APIs with sample data.",\n    keywords: ["example", "api"],\n    license: "UNLICENSE",\n    website: "https://gamevau.lt",\n  };\n}\n'})}),"\n",(0,l.jsx)(n.admonition,{title:"Avoid Redundancy",type:"tip",children:(0,l.jsxs)(n.p,{children:["When naming files, avoid repeating words. For example, if your plugin is called ",(0,l.jsx)(n.code,{children:"useless-plugin"}),", name the module file ",(0,l.jsx)(n.code,{children:"useless.plugin.module.ts"}),", not ",(0,l.jsx)(n.code,{children:"useless-plugin.plugin.module.ts"}),"."]})}),"\n",(0,l.jsx)(n.h3,{id:"step-4-document-your-plugin",children:"Step 4: Document Your Plugin"}),"\n",(0,l.jsxs)(n.p,{children:["Once you've implemented the ",(0,l.jsx)(n.code,{children:"GameVaultPluginModule"})," interface, make sure to provide details about your plugin in the metadata section. Be sure to add a ",(0,l.jsx)(n.code,{children:"README.md"})," and ",(0,l.jsx)(n.code,{children:"LICENSE"})," file to the plugin folder to make it clear and accessible when shared on GitHub."]}),"\n",(0,l.jsx)(n.h3,{id:"step-5-implement-your-plugins-logic",children:"Step 5: Implement Your Plugin's Logic"}),"\n",(0,l.jsxs)(n.p,{children:["Now, develop your plugin by adding services, controllers, or any other NestJS components. You can use existing GameVault modules to extend functionality. For instance in our example you can see we used the ",(0,l.jsx)(n.code,{children:"UsersService"})," to count the users on our GameVault server. The possibilities are limitless."]}),"\n",(0,l.jsx)(n.h4,{id:"adding-configuration-options",children:"Adding Configuration Options"}),"\n",(0,l.jsxs)(n.p,{children:["If your plugin should support specific configuration for the end user, you can introduce custom environment variables. Make sure they are unique and do not conflict with existing variables. A good pattern is: ",(0,l.jsx)(n.code,{children:"PLUGIN_AUTHORNAME_PLUGINNAME_SETTING"})," (e.g., ",(0,l.jsx)(n.code,{children:"PLUGIN_PHALCODE_USELESS_ENABLED"}),")."]}),"\n",(0,l.jsxs)(n.p,{children:["You can access these variables in your code via ",(0,l.jsx)(n.code,{children:"process.env.PLUGIN_AUTHORNAME_PLUGINNAME_SETTING"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"step-6-test-your-plugin",children:"Step 6: Test Your Plugin"}),"\n",(0,l.jsxs)(n.p,{children:["When you\u2019re ready to test, run ",(0,l.jsx)(n.code,{children:"pnpm start"}),'. GameVault will automatically inject your plugin, and you should see relevant logs. You can debug using logs or Visual Studio Code\u2019s "Toggle Auto Attach" feature. For extra quality assurance, you can write unit tests with Jest by adding a ',(0,l.jsx)(n.code,{children:".spec.ts"})," file and running ",(0,l.jsx)(n.code,{children:"pnpm test"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"step-7-compile-your-plugin",children:"Step 7: Compile Your Plugin"}),"\n",(0,l.jsxs)(n.p,{children:["Once your plugin is working and tested, compile it by running ",(0,l.jsx)(n.code,{children:"pnpm build"}),". This will generate a ",(0,l.jsx)(n.code,{children:"dist"})," folder with your compiled plugin in the ",(0,l.jsx)(n.code,{children:"dist/.local/plugins/useless-plugin"})," directory. Look for folder containing a ",(0,l.jsx)(n.code,{children:".plugin.module.js"})," file\u2014this is your compiled plugin. Zip that folder\u2014this is the final, compiled version of your plugin, ready for users to install and run on their servers."]}),"\n",(0,l.jsx)(n.h3,{id:"step-8-release-your-plugin",children:"Step 8: Release Your Plugin"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Bring your local Git repository to GitHub."}),"\n",(0,l.jsx)(n.li,{children:"Create a release on GitHub and upload the zipped plugin folder containing your plugin\u2019s JavaScript files."}),"\n",(0,l.jsxs)(n.li,{children:["Tag your repository with ",(0,l.jsx)(n.code,{children:"gamevault-backend-plugin"})," to make it available for users to find."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"step-9-get-featured",children:"Step 9: Get Featured"}),"\n",(0,l.jsx)(n.p,{children:"If your plugin is particularly useful and you want it to be in the standard feature set, contact us! We might integrate it directly into the official GameVault-Backend product."}),"\n",(0,l.jsx)(n.h2,{id:"metadata-provider-plugin-specifics",children:"Metadata Provider Plugin Specifics"}),"\n",(0,l.jsx)(n.p,{children:"If your plugin should integrate with GameVault\u2019s metadata framework, follow these additional steps:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Create the plugin as outlined above."}),"\n",(0,l.jsxs)(n.li,{children:["Develop a NestJS service that implements the ",(0,l.jsx)(n.a,{href:"https://github.com/Phalcode/gamevault-backend/blob/master/src/modules/metadata/providers/abstract.metadata-provider.service.ts",children:(0,l.jsx)(n.code,{children:"abstract.metadata-provider.interface.ts"})}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Once complete, you can feature your plugin ",(0,l.jsx)(n.a,{href:"/docs/server-docs/metadata-enrichment/metadata#community-maintained-metadata-providers",children:"right here in the documentation"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"example-plugins",children:"Example Plugins"}),"\n",(0,l.jsxs)(n.p,{children:["You can check out some example plugins provided by Phalcode ",(0,l.jsx)(n.a,{href:"https://github.com/Phalcode/gamevault-backend-example-plugins",children:"here"})," to see how plugins are structured and developed."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},8591:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(758);const l={},s=i.createContext(l);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
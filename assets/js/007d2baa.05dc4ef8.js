"use strict";(self.webpackChunkgamevault_docs=self.webpackChunkgamevault_docs||[]).push([[5112],{4930:(e,d,i)=>{i.r(d),i.d(d,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"server-docs/media","title":"Media","description":"This page outlines how media like images and videos are handled within the backend application.","source":"@site/docs/server-docs/media.md","sourceDirName":"server-docs","slug":"/server-docs/media","permalink":"/docs/server-docs/media","draft":false,"unlisted":false,"editUrl":"https://github.com/phalcode/gamevault-docs/tree/master/docs/server-docs/media.md","tags":[],"version":"current","lastUpdatedBy":"Alper Alkan","lastUpdatedAt":1750464017000,"sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"docs","previous":{"title":"Database Backup & Restoration","permalink":"/docs/server-docs/backup-and-restore"},"next":{"title":"WebSockets","permalink":"/docs/server-docs/websockets"}}');var t=i(6070),r=i(8591);const n={sidebar_position:8},a="Media",c={},l=[{value:"Supported Formats",id:"supported-formats",level:2},{value:"Supported Image Formats",id:"supported-image-formats",level:3},{value:"Supported Audio Formats",id:"supported-audio-formats",level:3},{value:"Supported Video Formats",id:"supported-video-formats",level:3},{value:"Media Persistence",id:"media-persistence",level:2},{value:"Media that is stored on the filesystem",id:"media-that-is-stored-on-the-filesystem",level:3},{value:"Media that is stored as an external resource",id:"media-that-is-stored-as-an-external-resource",level:3},{value:"Duplicate Media",id:"duplicate-media",level:3},{value:"Media Garbage Collection",id:"media-garbage-collection",level:2},{value:"Turning off Garbage Collection",id:"turning-off-garbage-collection",level:3}];function o(e){const d={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.header,{children:(0,t.jsx)(d.h1,{id:"media",children:"Media"})}),"\n",(0,t.jsx)(d.p,{children:"This page outlines how media like images and videos are handled within the backend application."}),"\n",(0,t.jsx)(d.p,{children:"Here is the updated markdown table including the format names as a second column:"}),"\n",(0,t.jsx)(d.h2,{id:"supported-formats",children:"Supported Formats"}),"\n",(0,t.jsx)(d.h3,{id:"supported-image-formats",children:"Supported Image Formats"}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Format"}),(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"MIME Type"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".bmp"})}),(0,t.jsx)(d.td,{children:"Bitmap Image"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"image/bmp"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".jpeg"})}),(0,t.jsx)(d.td,{children:"JPEG Image"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"image/jpeg"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".png"})}),(0,t.jsx)(d.td,{children:"Portable Network Graphics"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"image/png"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".tiff"})}),(0,t.jsx)(d.td,{children:"Tagged Image File Format"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"image/tiff"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".gif"})}),(0,t.jsx)(d.td,{children:"Graphics Interchange Format"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"image/gif"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".ico"})}),(0,t.jsx)(d.td,{children:"Icon Format"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"image/vnd.microsoft.icon"})})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"supported-audio-formats",children:"Supported Audio Formats"}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Format"}),(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"MIME Type"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".mp3"})}),(0,t.jsx)(d.td,{children:"MPEG Audio"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/mpeg"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".wav"})}),(0,t.jsx)(d.td,{children:"Waveform Audio"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/wav"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".ogg"})}),(0,t.jsx)(d.td,{children:"Ogg Vorbis"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/ogg"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".aac"})}),(0,t.jsx)(d.td,{children:"Advanced Audio Codec"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/aac"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".flac"})}),(0,t.jsx)(d.td,{children:"Free Lossless Audio Codec"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/flac"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".wma"})}),(0,t.jsx)(d.td,{children:"Windows Media Audio"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/x-ms-wma"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".amr"})}),(0,t.jsx)(d.td,{children:"Adaptive Multi-Rate"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/amr"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".mp4"})}),(0,t.jsx)(d.td,{children:"MPEG-4 Audio"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"audio/mp4"})})]})]})]}),"\n",(0,t.jsx)(d.h3,{id:"supported-video-formats",children:"Supported Video Formats"}),"\n",(0,t.jsxs)(d.table,{children:[(0,t.jsx)(d.thead,{children:(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.th,{children:"Format"}),(0,t.jsx)(d.th,{children:"Name"}),(0,t.jsx)(d.th,{children:"MIME Type"})]})}),(0,t.jsxs)(d.tbody,{children:[(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".mp4"})}),(0,t.jsx)(d.td,{children:"MPEG-4 Video"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/mp4"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".avi"})}),(0,t.jsx)(d.td,{children:"Audio Video Interleave"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/x-msvideo"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".mov"})}),(0,t.jsx)(d.td,{children:"QuickTime"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/quicktime"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".wmv"})}),(0,t.jsx)(d.td,{children:"Windows Media Video"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/x-ms-wmv"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".flv"})}),(0,t.jsx)(d.td,{children:"Flash Video"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/x-flv"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".mkv"})}),(0,t.jsx)(d.td,{children:"Matroska Video"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/x-matroska"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".webm"})}),(0,t.jsx)(d.td,{children:"WebM Video"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/webm"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".mpeg"})}),(0,t.jsx)(d.td,{children:"MPEG Video"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/mpeg"})})]}),(0,t.jsxs)(d.tr,{children:[(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:".3gp"})}),(0,t.jsx)(d.td,{children:"3GPP Multimedia File"}),(0,t.jsx)(d.td,{children:(0,t.jsx)(d.code,{children:"video/3gpp"})})]})]})]}),"\n",(0,t.jsx)(d.h2,{id:"media-persistence",children:"Media Persistence"}),"\n",(0,t.jsxs)(d.p,{children:["GameVault stores media either by persisting them to the filesystem using the media directory (by default ",(0,t.jsx)(d.code,{children:"/media"}),") or by saving a link to an external URL."]}),"\n",(0,t.jsx)(d.h3,{id:"media-that-is-stored-on-the-filesystem",children:"Media that is stored on the filesystem"}),"\n",(0,t.jsxs)(d.ul,{children:["\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"game_metadata.cover"}),": Game Box Arts"]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"game_metadata.background"}),": Game Background Images"]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"gamevault_user.avatar"}),": User Avatars"]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"gamevault_user.background"}),": User Background Images"]}),"\n"]}),"\n",(0,t.jsx)(d.h3,{id:"media-that-is-stored-as-an-external-resource",children:"Media that is stored as an external resource"}),"\n",(0,t.jsxs)(d.ul,{children:["\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"game_metadata.url_screenshots"}),": Game Screenshots"]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"game_metadata.url_trailers"}),": Game Trailers"]}),"\n",(0,t.jsxs)(d.li,{children:[(0,t.jsx)(d.code,{children:"game_metadata.url_gameplays"}),": Gameplay Videos"]}),"\n"]}),"\n",(0,t.jsx)(d.admonition,{type:"note",children:(0,t.jsxs)(d.p,{children:["Note the ",(0,t.jsx)(d.code,{children:"url_"})," prefix."]})}),"\n",(0,t.jsx)(d.h3,{id:"duplicate-media",children:"Duplicate Media"}),"\n",(0,t.jsx)(d.p,{children:"GameVault stores each media resource referenced in the database as one-to-one, with no media reuse. So it's normal to see duplicates."}),"\n",(0,t.jsx)(d.h2,{id:"media-garbage-collection",children:"Media Garbage Collection"}),"\n",(0,t.jsx)(d.admonition,{title:"Potential data loss",type:"danger",children:(0,t.jsxs)(d.p,{children:["Garbage collection ",(0,t.jsx)(d.strong,{children:"can result in data loss"}),", as it will ",(0,t.jsx)(d.strong,{children:"delete any files inside the media folder"})," without an association in the database. For example if you set up a new, empty database. It is advisable to regularly back up your media just to be safe. If you don't want to lose any data, you can disable garbage collection by setting the ",(0,t.jsx)(d.code,{children:"MEDIA_GC_DISABLED"})," environment variable to ",(0,t.jsx)(d.code,{children:"true"}),"."]})}),"\n",(0,t.jsx)(d.p,{children:"GameVault regularly cleans up its media in the database and filesystem to keep things tidy. We call this process garbage collection."}),"\n",(0,t.jsxs)(d.p,{children:["You can control how often the garbage colletion happens by changing the value of ",(0,t.jsx)(d.code,{children:"MEDIA_GC_INTERVAL_IN_MINUTES"}),"."]}),"\n",(0,t.jsx)(d.p,{children:"During cleanup, GameVault first gets rid of all media in the database that aren't used. Afterwards, it deletes all media files in the media folder that don't match any database entries. So please don't put any files in the media folder that you don't want to be deleted."}),"\n",(0,t.jsx)(d.h3,{id:"turning-off-garbage-collection",children:"Turning off Garbage Collection"}),"\n",(0,t.jsxs)(d.p,{children:["If you want to turn off this feature, you can disableit by setting the ",(0,t.jsx)(d.code,{children:"MEDIA_GC_DISABLED"})," environment variable to ",(0,t.jsx)(d.code,{children:"true"}),"."]})]})}function h(e={}){const{wrapper:d}={...(0,r.R)(),...e.components};return d?(0,t.jsx)(d,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8591:(e,d,i)=>{i.d(d,{R:()=>n,x:()=>a});var s=i(758);const t={},r=s.createContext(t);function n(e){const d=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function a(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:n(e.components),s.createElement(r.Provider,{value:d},e.children)}}}]);